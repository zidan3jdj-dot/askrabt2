<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>ğŸ° ÙƒØ§Ø²ÙŠÙˆÙ† VIP | Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø±Ø§Ù‡Ù†Ø§Øª Ø§Ù„Ø­ØµØ±ÙŠØ©</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

<style>
/* ===== Ù…ØªØºÙŠØ±Ø§Øª CSS ===== */
:root {
    --primary: #FFD700;
    --primary-dark: #CCAC00;
    --secondary: #6A1E9A;
    --accent: #00BCD4;
    --gold: #FFD700;
    --silver: #C0C0C0;
    --bronze: #CD7F32;
    --dark: #0A0E1A;
    --darker: #05070C;
    --light: #F8F9FA;
    --success: #4CAF50;
    --danger: #F44336;
    --warning: #FF9800;
    --info: #2196F3;
    --gray: #9E9E9E;
    --glass: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 215, 0, 0.3);
    --shadow: 0 15px 35px rgba(0, 0, 0, 0.6);
    --gradient-gold: linear-gradient(145deg, #FFD700, #FFA500);
    --gradient-purple: linear-gradient(145deg, #6A1E9A, #4A148C);
    --gradient-cyan: linear-gradient(145deg, #00BCD4, #0097A7);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Tajawal', sans-serif;
}

body {
    background: var(--darker);
    color: var(--light);
    min-height: 100vh;
    padding: 15px;
    background-image: 
        radial-gradient(circle at 10% 20%, rgba(255, 215, 0, 0.05) 0%, transparent 30%),
        radial-gradient(circle at 90% 70%, rgba(106, 30, 154, 0.05) 0%, transparent 35%),
        radial-gradient(circle at 30% 80%, rgba(0, 188, 212, 0.03) 0%, transparent 40%);
    position: relative;
}

/* ===== Ø´Ø§Ø´Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ===== */
.screen {
    width: 100%;
    max-width: 480px;
    display: none;
    margin: 0 auto;
}

.screen.active {
    display: block;
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ===== Header ===== */
.casino-header {
    background: rgba(10, 14, 26, 0.95);
    backdrop-filter: blur(20px);
    border-radius: 30px;
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid var(--glass-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: flex;
    align-items: center;
    gap: 10px;
}

.logo i {
    font-size: 2rem;
    color: var(--gold);
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
}

.logo h1 {
    font-size: 1.5rem;
    font-weight: 900;
    background: var(--gradient-gold);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.user-balance {
    background: rgba(255, 215, 0, 0.1);
    border: 1px solid rgba(255, 215, 0, 0.3);
    border-radius: 100px;
    padding: 10px 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.balance-icon {
    color: var(--gold);
    font-size: 1.2rem;
}

.balance-amount {
    font-size: 1.2rem;
    font-weight: 800;
    color: var(--gold);
}

/* ===== Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ===== */
.games-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 20px;
}

.game-card {
    background: rgba(10, 14, 26, 0.9);
    backdrop-filter: blur(10px);
    border-radius: 24px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.game-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent 65%, rgba(255, 215, 0, 0.1) 80%, transparent 95%);
    transform: translateX(-100%);
    transition: transform 0.6s ease;
}

.game-card:hover::before {
    transform: translateX(100%);
}

.game-card:hover {
    transform: translateY(-5px);
    border-color: var(--gold);
    box-shadow: 0 10px 30px rgba(255, 215, 0, 0.2);
}

.game-icon {
    font-size: 2.5rem;
    color: var(--gold);
    margin-bottom: 15px;
}

.game-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 8px;
    color: var(--light);
}

.game-desc {
    font-size: 0.8rem;
    color: var(--gray);
    margin-bottom: 15px;
}

.game-badge {
    position: absolute;
    top: 15px;
    right: 15px;
    background: var(--gradient-gold);
    color: var(--dark);
    padding: 5px 12px;
    border-radius: 100px;
    font-size: 0.7rem;
    font-weight: 700;
}

/* ===== Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© ===== */
.game-screen {
    background: rgba(10, 14, 26, 0.95);
    backdrop-filter: blur(20px);
    border-radius: 30px;
    padding: 25px;
    border: 1px solid var(--glass-border);
    margin-bottom: 20px;
}

.game-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(255, 215, 0, 0.2);
}

.game-header-title {
    display: flex;
    align-items: center;
    gap: 12px;
}

.game-header-title i {
    font-size: 1.8rem;
    color: var(--gold);
}

.game-header-title h2 {
    font-size: 1.4rem;
    font-weight: 800;
    color: var(--light);
}

.back-btn {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 215, 0, 0.2);
    color: var(--light);
    padding: 10px 20px;
    border-radius: 100px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.back-btn:hover {
    background: rgba(255, 215, 0, 0.1);
    border-color: var(--gold);
}

/* ===== Ù„Ø¹Ø¨Ø© CRASH ===== */
.crash-visual {
    background: rgba(5, 7, 12, 0.9);
    border-radius: 20px;
    padding: 30px;
    text-align: center;
    margin-bottom: 20px;
}

.crash-plane {
    width: 100px;
    height: 100px;
    margin: 0 auto 20px;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%23FFD700" d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/></svg>');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    animation: fly 1s infinite alternate;
}

@keyframes fly {
    from { transform: translateY(0) rotate(-5deg); }
    to { transform: translateY(-10px) rotate(5deg); }
}

.crash-multiplier {
    font-size: 4rem;
    font-weight: 900;
    color: var(--gold);
    text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
    margin-bottom: 10px;
}

.crash-status {
    font-size: 1.1rem;
    color: var(--gray);
}

/* ===== Ù„Ø¹Ø¨Ø© ROULETTE ===== */
.roulette-wheel {
    width: 250px;
    height: 250px;
    margin: 0 auto 30px;
    position: relative;
    animation: spin 10s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.roulette-numbers {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.roulette-number {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 215, 0, 0.2);
    border-radius: 12px;
    padding: 12px;
    text-align: center;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
}

.roulette-number:hover {
    background: var(--gradient-gold);
    color: var(--dark);
    transform: scale(1.1);
}

.roulette-number.red {
    background: rgba(244, 67, 54, 0.2);
    color: #F44336;
}

.roulette-number.black {
    background: rgba(33, 33, 33, 0.4);
    color: var(--light);
}

.roulette-number.green {
    background: rgba(76, 175, 80, 0.2);
    color: #4CAF50;
}

/* ===== Ù„Ø¹Ø¨Ø© SLOTS ===== */
.slots-machine {
    background: linear-gradient(145deg, #1E1E2E, #151520);
    border-radius: 30px;
    padding: 30px;
    margin-bottom: 30px;
}

.slots-reels {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 25px;
}

.reel {
    width: 80px;
    height: 120px;
    background: linear-gradient(145deg, #2A2A3A, #1A1A28);
    border-radius: 20px;
    border: 2px solid var(--gold);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3.5rem;
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
    animation: spinReel 0.5s infinite linear;
}

@keyframes spinReel {
    from { transform: translateY(0); }
    to { transform: translateY(100%); }
}

/* ===== Ù„Ø¹Ø¨Ø© DICE ===== */
.dice-container {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-bottom: 30px;
}

.dice {
    width: 80px;
    height: 80px;
    background: linear-gradient(145deg, #FFFFFF, #E0E0E0);
    border-radius: 20px;
    display: flex;
    flex-wrap: wrap;
    padding: 15px;
    gap: 5px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    animation: roll 1s ease;
}

@keyframes roll {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(720deg) scale(1.2); }
    100% { transform: rotate(720deg) scale(1); }
}

.dice-dot {
    width: 15px;
    height: 15px;
    background: var(--dark);
    border-radius: 50%;
}

/* ===== Ù„Ø¹Ø¨Ø© BLACKJACK ===== */
.blackjack-table {
    background: linear-gradient(145deg, #1E4A2C, #0A2A14);
    border-radius: 50px;
    padding: 30px;
    margin-bottom: 30px;
}

.dealer-hand, .player-hand {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
}

.card {
    width: 60px;
    height: 90px;
    background: linear-gradient(145deg, #FFFFFF, #F5F5F5);
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--dark);
    font-weight: 800;
    font-size: 1.5rem;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.card.red {
    color: #F44336;
}

/* ===== Ù„Ø¹Ø¨Ø© MINES ===== */
.mines-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 12px;
    margin-bottom: 30px;
}

.mine-cell {
    aspect-ratio: 1;
    background: rgba(255, 215, 0, 0.1);
    border: 2px solid rgba(255, 215, 0, 0.2);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.mine-cell:hover {
    background: rgba(255, 215, 0, 0.2);
    transform: scale(1.05);
}

.mine-cell.mine {
    background: rgba(244, 67, 54, 0.2);
    border-color: #F44336;
}

.mine-cell.gem {
    background: rgba(76, 175, 80, 0.2);
    border-color: #4CAF50;
}

/* ===== Ù„Ø¹Ø¨Ø© PLINKO ===== */
.plinko-board {
    background: linear-gradient(145deg, #1A1A2A, #0A0A1A);
    border-radius: 30px;
    padding: 30px;
    margin-bottom: 30px;
    position: relative;
    height: 300px;
}

.plinko-pegs {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 15px;
    position: relative;
}

.plinko-peg {
    width: 12px;
    height: 12px;
    background: var(--gold);
    border-radius: 50%;
    margin: 0 auto;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
}

.plinko-ball {
    width: 20px;
    height: 20px;
    background: radial-gradient(circle, #FFD700, #FFA500);
    border-radius: 50%;
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    animation: drop 2s ease forwards;
}

@keyframes drop {
    from { top: 0; }
    to { top: 250px; }
}

/* ===== Ù„Ø¹Ø¨Ø© KENO ===== */
.keno-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 12px;
    margin-bottom: 30px;
}

.keno-number {
    aspect-ratio: 1;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 215, 0, 0.2);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
}

.keno-number.selected {
    background: var(--gradient-gold);
    color: var(--dark);
    transform: scale(1.1);
}

/* ===== Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ù‡Ø§Ù† ===== */
.betting-section {
    background: rgba(5, 7, 12, 0.8);
    border-radius: 20px;
    padding: 20px;
    margin-top: 20px;
}

.bet-input {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.bet-field {
    flex: 1;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 215, 0, 0.2);
    border-radius: 16px;
    padding: 15px;
    color: var(--light);
    font-size: 1.1rem;
    font-weight: 700;
}

.bet-presets {
    display: flex;
    gap: 10px;
}

.bet-preset {
    background: rgba(255, 215, 0, 0.1);
    border: 1px solid rgba(255, 215, 0, 0.2);
    border-radius: 12px;
    padding: 10px 15px;
    color: var(--gold);
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
}

.bet-preset:hover {
    background: rgba(255, 215, 0, 0.2);
    transform: scale(1.05);
}

.play-btn {
    width: 100%;
    background: var(--gradient-gold);
    border: none;
    border-radius: 16px;
    padding: 18px;
    color: var(--dark);
    font-size: 1.2rem;
    font-weight: 800;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}

.play-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
}

/* ===== Ø³Ø¬Ù„ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª ===== */
.history-section {
    background: rgba(5, 7, 12, 0.8);
    border-radius: 20px;
    padding: 20px;
    margin-top: 20px;
}

.history-title {
    font-size: 1.1rem;
    color: var(--gold);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.history-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.history-item {
    background: rgba(255, 215, 0, 0.1);
    border: 1px solid rgba(255, 215, 0, 0.2);
    border-radius: 12px;
    padding: 8px 16px;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.history-item.win {
    background: rgba(76, 175, 80, 0.1);
    border-color: #4CAF50;
}

.history-item.loss {
    background: rgba(244, 67, 54, 0.1);
    border-color: #F44336;
}

/* ===== VIP Section ===== */
.vip-section {
    background: linear-gradient(145deg, rgba(255, 215, 0, 0.1), rgba(106, 30, 154, 0.1));
    border-radius: 30px;
    padding: 25px;
    margin-top: 30px;
    border: 1px solid var(--gold);
    position: relative;
    overflow: hidden;
}

.vip-badge {
    position: absolute;
    top: 15px;
    right: 15px;
    background: var(--gradient-gold);
    color: var(--dark);
    padding: 8px 20px;
    border-radius: 100px;
    font-weight: 800;
    font-size: 0.9rem;
}

.vip-title {
    font-size: 1.5rem;
    font-weight: 900;
    color: var(--gold);
    margin-bottom: 15px;
}

.vip-perks {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 20px;
}

.vip-perk {
    display: flex;
    align-items: center;
    gap: 12px;
    color: var(--light);
}

.vip-perk i {
    color: var(--gold);
}

/* ===== Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ ===== */
.alert {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(10, 14, 26, 0.98);
    backdrop-filter: blur(10px);
    border: 1px solid var(--gold);
    border-radius: 100px;
    padding: 15px 30px;
    color: var(--light);
    font-weight: 600;
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.3s ease;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
}

.alert.show {
    opacity: 1;
}

.alert.success {
    border-color: #4CAF50;
}

.alert.error {
    border-color: #F44336;
}

/* ===== Responsive ===== */
@media (max-width: 380px) {
    .games-grid {
        grid-template-columns: 1fr;
    }
    
    .slots-reels {
        gap: 10px;
    }
    
    .reel {
        width: 60px;
        height: 100px;
        font-size: 2.5rem;
    }
    
    .dice-container {
        gap: 15px;
    }
    
    .dice {
        width: 60px;
        height: 60px;
    }
}
</style>
</head>

<body>

<!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ -->
<div class="alert" id="alert"></div>

<!-- Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div class="screen active" id="mainScreen">
    <!-- Header -->
    <div class="casino-header">
        <div class="logo">
            <i class="fas fa-crown"></i>
            <h1>ÙƒØ§Ø²ÙŠÙˆÙ† VIP</h1>
        </div>
        <div class="user-balance" id="userBalance">
            <i class="fas fa-coins balance-icon"></i>
            <span class="balance-amount" id="balanceAmount">10,000</span>
        </div>
    </div>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ -->
    <div class="games-grid">
        <div class="game-card" onclick="openGame('crash')">
            <div class="game-badge">ğŸ”¥ Ø´Ø§Ø¦Ø¹</div>
            <div class="game-icon">
                <i class="fas fa-paper-plane"></i>
            </div>
            <h3 class="game-title">Crash</h3>
            <p class="game-desc">Ø·ÙŠØ±Ø§Ù† ÙˆØ§Ù†ÙØ¬Ø§Ø± â€¢ Ù…Ø¶Ø§Ø¹ÙØ§Øª x100</p>
        </div>

        <div class="game-card" onclick="openGame('roulette')">
            <div class="game-badge">ğŸ’ ÙƒÙ„Ø§Ø³ÙŠÙƒ</div>
            <div class="game-icon">
                <i class="fas fa-circle"></i>
            </div>
            <h3 class="game-title">Roulette</h3>
            <p class="game-desc">Ø±ÙˆÙ„ÙŠØª Ø£ÙˆØ±ÙˆØ¨ÙŠ â€¢ 37 Ø±Ù‚Ù…</p>
        </div>

        <div class="game-card" onclick="openGame('slots')">
            <div class="game-badge">ğŸ° ÙÙŠØ¯ÙŠÙˆ</div>
            <div class="game-icon">
                <i class="fas fa-sliders-h"></i>
            </div>
            <h3 class="game-title">Slots</h3>
            <p class="game-desc">Ø³Ù„ÙˆØªØ³ â€¢ ÙÙˆØ² Ø¨Ù€ x500</p>
        </div>

        <div class="game-card" onclick="openGame('dice')">
            <div class="game-badge">ğŸ² Ø³Ø±ÙŠØ¹</div>
            <div class="game-icon">
                <i class="fas fa-dice"></i>
            </div>
            <h3 class="game-title">Dice</h3>
            <p class="game-desc">Ù†Ø±Ø¯ â€¢ Ø­Ø¸Ùƒ Ø§Ù„ÙŠÙˆÙ…</p>
        </div>

        <div class="game-card" onclick="openGame('blackjack')">
            <div class="game-badge">â™ ï¸ ÙƒØ§Ø²ÙŠÙˆ</div>
            <div class="game-icon">
                <i class="fas fa-spade"></i>
            </div>
            <h3 class="game-title">Blackjack</h3>
            <p class="game-desc">21 â€¢ ÙˆØ±Ù‚ Ø§Ù„ÙƒØ§Ø²ÙŠÙˆ</p>
        </div>

        <div class="game-card" onclick="openGame('mines')">
            <div class="game-badge">ğŸ’£ Ø­Ø¸</div>
            <div class="game-icon">
                <i class="fas fa-bomb"></i>
            </div>
            <h3 class="game-title">Mines</h3>
            <p class="game-desc">Ø£Ù„ØºØ§Ù… â€¢ x1000</p>
        </div>

        <div class="game-card" onclick="openGame('plinko')">
            <div class="game-badge">ğŸ“º ØªÙ„ÙØ²ÙŠÙˆÙ†</div>
            <div class="game-icon">
                <i class="fas fa-circle-notch"></i>
            </div>
            <h3 class="game-title">Plinko</h3>
            <p class="game-desc">Ø¨ÙŠÙ†ÙƒÙˆ â€¢ Ø³Ù‚ÙˆØ· Ø­Ø±</p>
        </div>

        <div class="game-card" onclick="openGame('keno')">
            <div class="game-badge">ğŸ¯ ÙŠØ§Ù†ØµÙŠØ¨</div>
            <div class="game-icon">
                <i class="fas fa-bullseye"></i>
            </div>
            <h3 class="game-title">Keno</h3>
            <p class="game-desc">ÙƒÙŠÙ†Ùˆ â€¢ 40 Ø±Ù‚Ù…</p>
        </div>
    </div>

    <!-- Ù‚Ø³Ù… VIP -->
    <div class="vip-section">
        <div class="vip-badge">VIP</div>
        <div class="vip-title">Ø¹Ø¶ÙˆÙŠØªÙƒ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</div>
        <div class="vip-perks">
            <div class="vip-perk">
                <i class="fas fa-gem"></i>
                <span>Ù…Ø¶Ø§Ø¹ÙØ§Øª Ø­ØµØ±ÙŠØ©</span>
            </div>
            <div class="vip-perk">
                <i class="fas fa-bolt"></i>
                <span>Ø³Ø­Ø¨ Ø³Ø±ÙŠØ¹</span>
            </div>
            <div class="vip-perk">
                <i class="fas fa-gift"></i>
                <span>Ù…ÙƒØ§ÙØ¢Øª ÙŠÙˆÙ…ÙŠØ©</span>
            </div>
            <div class="vip-perk">
                <i class="fas fa-headset"></i>
                <span>Ø¯Ø¹Ù… VIP</span>
            </div>
        </div>
        <button class="play-btn" style="background: rgba(255,215,0,0.1); color: var(--gold);" onclick="showAlert('ØªÙ… ØªØ±Ù‚ÙŠØ© Ø¹Ø¶ÙˆÙŠØªÙƒ!', 'success')">
            <i class="fas fa-crown"></i> ØªØ±Ù‚ÙŠØ© Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©
        </button>
    </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ù„Ø¹Ø¨Ø© Crash -->
<div class="screen" id="crashGame">
    <div class="game-screen">
        <div class="game-header">
            <div class="game-header-title">
                <i class="fas fa-paper-plane"></i>
                <h2>Crash</h2>
            </div>
            <button class="back-btn" onclick="closeGame()">
                <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹
            </button>
        </div>

        <div class="crash-visual">
            <div class="crash-plane"></div>
            <div class="crash-multiplier" id="crashMultiplier">1.00x</div>
            <div class="crash-status" id="crashStatus">â³ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¬ÙˆÙ„Ø©...</div>
        </div>

        <div class="betting-section">
            <div class="bet-input">
                <input type="number" class="bet-field" id="crashBet" value="100" placeholder="Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†">
                <div class="bet-presets">
                    <div class="bet-preset" onclick="setBet('crash', 50)">50</div>
                    <div class="bet-preset" onclick="setBet('crash', 100)">100</div>
                    <div class="bet-preset" onclick="setBet('crash', 500)">500</div>
                </div>
            </div>
            <button class="play-btn" id="crashPlayBtn" onclick="playCrash()">
                <i class="fas fa-play"></i> Ø¨Ø¯Ø¡ Ø§Ù„Ø±Ù‡Ø§Ù†
            </button>
        </div>

        <div class="history-section">
            <div class="history-title">
                <i class="fas fa-history"></i> Ø¢Ø®Ø± Ø§Ù„Ø¬ÙˆÙ„Ø§Øª
            </div>
            <div class="history-list" id="crashHistory">
                <div class="history-item">2.45x</div>
                <div class="history-item">1.23x</div>
                <div class="history-item win">3.78x</div>
                <div class="history-item loss">1.02x</div>
            </div>
        </div>
    </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ù„Ø¹Ø¨Ø© Roulette -->
<div class="screen" id="rouletteGame">
    <div class="game-screen">
        <div class="game-header">
            <div class="game-header-title">
                <i class="fas fa-circle"></i>
                <h2>Roulette</h2>
            </div>
            <button class="back-btn" onclick="closeGame()">
                <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹
            </button>
        </div>

        <div class="roulette-wheel">
            <svg viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="none" stroke="#FFD700" stroke-width="2"/>
                <circle cx="50" cy="50" r="40" fill="#0A0E1A"/>
                <path d="M50 10 L50 90 M10 50 L90 50" stroke="#FFD700" stroke-width="1" opacity="0.3"/>
            </svg>
        </div>

        <div class="roulette-numbers">
            <div class="roulette-number red" onclick="betRoulette(32)">32</div>
            <div class="roulette-number black" onclick="betRoulette(15)">15</div>
            <div class="roulette-number red" onclick="betRoulette(19)">19</div>
            <div class="roulette-number black" onclick="betRoulette(4)">4</div>
            <div class="roulette-number red" onclick="betRoulette(21)">21</div>
            <div class="roulette-number black" onclick="betRoulette(2)">2</div>
            <div class="roulette-number red" onclick="betRoulette(25)">25</div>
            <div class="roulette-number black" onclick="betRoulette(17)">17</div>
            <div class="roulette-number red" onclick="betRoulette(34)">34</div>
            <div class="roulette-number black" onclick="betRoulette(6)">6</div>
            <div class="roulette-number red" onclick="betRoulette(27)">27</div>
            <div class="roulette-number black" onclick="betRoulette(13)">13</div>
            <div class="roulette-number red" onclick="betRoulette(36)">36</div>
            <div class="roulette-number black" onclick="betRoulette(11)">11</div>
            <div class="roulette-number red" onclick="betRoulette(30)">30</div>
            <div class="roulette-number black" onclick="betRoulette(8)">8</div>
            <div class="roulette-number red" onclick="betRoulette(23)">23</div>
            <div class="roulette-number black" onclick="betRoulette(10)">10</div>
            <div class="roulette-number red" onclick="betRoulette(5)">5</div>
            <div class="roulette-number black" onclick="betRoulette(24)">24</div>
            <div class="roulette-number red" onclick="betRoulette(16)">16</div>
            <div class="roulette-number black" onclick="betRoulette(33)">33</div>
            <div class="roulette-number red" onclick="betRoulette(1)">1</div>
            <div class="roulette-number black" onclick="betRoulette(20)">20</div>
            <div class="roulette-number red" onclick="betRoulette(14)">14</div>
            <div class="roulette-number black" onclick="betRoulette(31)">31</div>
            <div class="roulette-number red" onclick="betRoulette(9)">9</div>
            <div class="roulette-number black" onclick="betRoulette(22)">22</div>
            <div class="roulette-number red" onclick="betRoulette(18)">18</div>
            <div class="roulette-number black" onclick="betRoulette(29)">29</div>
            <div class="roulette-number red" onclick="betRoulette(7)">7</div>
            <div class="roulette-number black" onclick="betRoulette(28)">28</div>
            <div class="roulette-number black" onclick="betRoulette(12)">12</div>
            <div class="roulette-number red" onclick="betRoulette(35)">35</div>
            <div class="roulette-number black" onclick="betRoulette(3)">3</div>
            <div class="roulette-number red" onclick="betRoulette(26)">26</div>
            <div class="roulette-number green" onclick="betRoulette(0)">0</div>
        </div>

        <div class="betting-section">
            <div class="bet-input">
                <input type="number" class="bet-field" id="rouletteBet" value="100" placeholder="Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†">
                <div class="bet-presets">
                    <div class="bet-preset" onclick="setBet('roulette', 50)">50</div>
                    <div class="bet-preset" onclick="setBet('roulette', 100)">100</div>
                    <div class="bet-preset" onclick="setBet('roulette', 500)">500</div>
                </div>
            </div>
            <div style="display: flex; gap: 10px;">
                <button class="play-btn" style="flex: 1;" onclick="spinRoulette()">
                    <i class="fas fa-circle-notch"></i> ØªØ¯ÙˆÙŠØ±
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ù„Ø¹Ø¨Ø© Slots -->
<div class="screen" id="slotsGame">
    <div class="game-screen">
        <div class="game-header">
            <div class="game-header-title">
                <i class="fas fa-sliders-h"></i>
                <h2>Slots</h2>
            </div>
            <button class="back-btn" onclick="closeGame()">
                <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹
            </button>
        </div>

        <div class="slots-machine">
            <div class="slots-reels">
                <div class="reel" id="slotReel1">ğŸ’</div>
                <div class="reel" id="slotReel2">ğŸ‹</div>
                <div class="reel" id="slotReel3">ğŸŠ</div>
            </div>
            <button class="play-btn" onclick="spinSlots()">
                <i class="fas fa-play"></i> Ø¯ÙˆØ±Ø©
            </button>
        </div>

        <div class="betting-section">
            <div class="bet-input">
                <input type="number" class="bet-field" id="slotsBet" value="100" placeholder="Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†">
                <div class="bet-presets">
                    <div class="bet-preset" onclick="setBet('slots', 50)">50</div>
                    <div class="bet-preset" onclick="setBet('slots', 100)">100</div>
                    <div class="bet-preset" onclick="setBet('slots', 500)">500</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ù„Ø¹Ø¨Ø© Dice -->
<div class="screen" id="diceGame">
    <div class="game-screen">
        <div class="game-header">
            <div class="game-header-title">
                <i class="fas fa-dice"></i>
                <h2>Dice</h2>
            </div>
            <button class="back-btn" onclick="closeGame()">
                <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹
            </button>
        </div>

        <div class="dice-container">
            <div class="dice" id="dice1">
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
            </div>
            <div class="dice" id="dice2">
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
                <div class="dice-dot"></div>
            </div>
        </div>

        <div class="betting-section">
            <div class="bet-input">
                <input type="number" class="bet-field" id="diceBet" value="100" placeholder="Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†">
                <div class="bet-presets">
                    <div class="bet-preset" onclick="setBet('dice', 50)">50</div>
                    <div class="bet-preset" onclick="setBet('dice', 100)">100</div>
                    <div class="bet-preset" onclick="setBet('dice', 500)">500</div>
                </div>
            </div>
            <button class="play-btn" onclick="rollDice()">
                <i class="fas fa-dice"></i> Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯
            </button>
        </div>
    </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ù„Ø¹Ø¨Ø© Blackjack -->
<div class="screen" id="blackjackGame">
    <div class="game-screen">
        <div class="game-header">
            <div class="game-header-title">
                <i class="fas fa-spade"></i>
                <h2>Blackjack</h2>
            </div>
            <button class="back-btn" onclick="closeGame()">
                <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹
            </button>
        </div>

        <div class="blackjack-table">
            <div style="color: var(--gold); margin-bottom: 15px;">Ø§Ù„Ù…ÙˆØ²Ø¹</div>
            <div class="dealer-hand" id="dealerHand">
                <div class="card">?</div>
                <div class="card">?</div>
            </div>
            
            <div style="color: var(--gold); margin-top: 30px; margin-bottom: 15px;">Ø£Ù†Øª</div>
            <div class="player-hand" id="playerHand">
                <div class="card red">Aâ™¥</div>
                <div class="card">10â™ </div>
            </div>
        </div>

        <div class="betting-section">
            <div class="bet-input">
                <input type="number" class="bet-field" id="blackjackBet" value="100" placeholder="Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†">
                <div class="bet-presets">
                    <div class="bet-preset" onclick="setBet('blackjack', 50)">50</div>
                    <div class="bet-preset" onclick="setBet('blackjack', 100)">100</div>
                    <div class="bet-preset" onclick="setBet('blackjack', 500)">500</div>
                </div>
            </div>
            <div style="display: flex; gap: 10px;">
                <button class="play-btn" style="flex: 1;" onclick="hitBlackjack()">Ø®Ø°</button>
                <button class="play-btn" style="flex: 1; background: rgba(255,255,255,0.1);" onclick="standBlackjack()">Ù‚Ù</button>
            </div>
        </div>
    </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ù„Ø¹Ø¨Ø© Mines -->
<div class="screen" id="minesGame">
    <div class="game-screen">
        <div class="game-header">
            <div class="game-header-title">
                <i class="fas fa-bomb"></i>
                <h2>Mines</h2>
            </div>
            <button class="back-btn" onclick="closeGame()">
                <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹
            </button>
        </div>

        <div class="mines-grid" id="minesGrid">
            <!-- ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®Ù„Ø§ÙŠØ§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª -->
        </div>

        <div class="betting-section">
            <div class="bet-input">
                <input type="number" class="bet-field" id="minesBet" value="100" placeholder="Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†">
                <div class="bet-presets">
                    <div class="bet-preset" onclick="setBet('mines', 50)">50</div>
                    <div class="bet-preset" onclick="setBet('mines', 100)">100</div>
                    <div class="bet-preset" onclick="setBet('mines', 500)">500</div>
                </div>
            </div>
            <button class="play-btn" onclick="startMines()">
                <i class="fas fa-play"></i> Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
            </button>
        </div>
    </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ù„Ø¹Ø¨Ø© Plinko -->
<div class="screen" id="plinkoGame">
    <div class="game-screen">
        <div class="game-header">
            <div class="game-header-title">
                <i class="fas fa-circle-notch"></i>
                <h2>Plinko</h2>
            </div>
            <button class="back-btn" onclick="closeGame()">
                <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹
            </button>
        </div>

        <div class="plinko-board" id="plinkoBoard">
            <div class="plinko-pegs">
                <div class="plinko-peg"></div>
                <div class="plinko-peg"></div>
                <div class="plinko-peg"></div>
                <div class="plinko-peg"></div>
                <div class="plinko-peg"></div>
                <div class="plinko-peg"></div>
                <div class="plinko-peg"></div>
                <div class="plinko-peg"></div>
            </div>
        </div>

        <div class="betting-section">
            <div class="bet-input">
                <input type="number" class="bet-field" id="plinkoBet" value="100" placeholder="Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†">
                <div class="bet-presets">
                    <div class="bet-preset" onclick="setBet('plinko', 50)">50</div>
                    <div class="bet-preset" onclick="setBet('plinko', 100)">100</div>
                    <div class="bet-preset" onclick="setBet('plinko', 500)">500</div>
                </div>
            </div>
            <button class="play-btn" onclick="dropPlinko()">
                <i class="fas fa-arrow-down"></i> Ø¥Ø³Ù‚Ø§Ø· Ø§Ù„ÙƒØ±Ø©
            </button>
        </div>
    </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ù„Ø¹Ø¨Ø© Keno -->
<div class="screen" id="kenoGame">
    <div class="game-screen">
        <div class="game-header">
            <div class="game-header-title">
                <i class="fas fa-bullseye"></i>
                <h2>Keno</h2>
            </div>
            <button class="back-btn" onclick="closeGame()">
                <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹
            </button>
        </div>

        <div class="keno-grid" id="kenoGrid">
            <!-- ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª -->
        </div>

        <div class="betting-section">
            <div class="bet-input">
                <input type="number" class="bet-field" id="kenoBet" value="100" placeholder="Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†">
                <div class="bet-presets">
                    <div class="bet-preset" onclick="setBet('keno', 50)">50</div>
                    <div class="bet-preset" onclick="setBet('keno', 100)">100</div>
                    <div class="bet-preset" onclick="setBet('keno', 500)">500</div>
                </div>
            </div>
            <button class="play-btn" onclick="drawKeno()">
                <i class="fas fa-dice"></i> Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
            </button>
        </div>
    </div>
</div>

<script>
// ===== ØªÙ‡ÙŠØ¦Ø© Firebase =====
const firebaseConfig = {
    apiKey: "AIzaSyCFlV0gBPDGPk1Nt78d1CCMGcZ6lLkXXuM",
    authDomain: "script-a68cf.firebaseapp.com",
    projectId: "script-a68cf",
    storageBucket: "script-a68cf.firebasestorage.app",
    messagingSenderId: "411304184642",
    appId: "1:411304184642:web:6ff1ffdc87d6cc5fb9d6db"
};

try { firebase.initializeApp(firebaseConfig); } catch (error) {}
const auth = firebase.auth();
const db = firebase.firestore();

// ===== Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© =====
let userBalance = 10000;
let currentGame = null;
let selectedNumbers = [];
let crashInterval = null;
let isCrashPlaying = false;
let currentCrashMultiplier = 1.00;

// ===== Ø¯ÙˆØ§Ù„ Ø¹Ø§Ù…Ø© =====
function showAlert(message, type = 'info') {
    const alert = document.getElementById('alert');
    alert.textContent = message;
    alert.className = `alert ${type} show`;
    setTimeout(() => alert.classList.remove('show'), 3000);
}

function showScreen(screenId) {
    document.querySelectorAll('.screen').forEach(screen => {
        screen.classList.remove('active');
    });
    document.getElementById(screenId).classList.add('active');
}

function openGame(game) {
    currentGame = game;
    showScreen(`${game}Game`);
    
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
    if (game === 'mines') initMines();
    if (game === 'keno') initKeno();
}

function closeGame() {
    // Ø¥ÙŠÙ‚Ø§Ù Ø£ÙŠ Ø¹Ù…Ù„ÙŠØ§Øª Ø¬Ø§Ø±ÙŠØ©
    if (crashInterval) clearInterval(crashInterval);
    isCrashPlaying = false;
    
    showScreen('mainScreen');
}

function setBet(game, amount) {
    const betField = document.getElementById(`${game}Bet`);
    if (betField) betField.value = amount;
}

function updateBalance(amount) {
    userBalance += amount;
    document.getElementById('balanceAmount').textContent = userBalance.toLocaleString();
}

// ===== Ù„Ø¹Ø¨Ø© Crash =====
function playCrash() {
    const bet = parseInt(document.getElementById('crashBet').value);
    
    if (bet > userBalance) {
        showAlert('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ!', 'error');
        return;
    }
    
    if (isCrashPlaying) {
        showAlert('Ø§Ù„Ø¬ÙˆÙ„Ø© Ø¬Ø§Ø±ÙŠØ© Ø¨Ø§Ù„ÙØ¹Ù„!', 'warning');
        return;
    }
    
    updateBalance(-bet);
    isCrashPlaying = true;
    
    // Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
    let countdown = 5;
    document.getElementById('crashStatus').innerHTML = `â³ Ø§Ù„Ø¬ÙˆÙ„Ø© ØªØ¨Ø¯Ø£ Ø®Ù„Ø§Ù„ ${countdown} Ø«ÙˆØ§Ù†ÙŠ`;
    
    const countdownInterval = setInterval(() => {
        countdown--;
        if (countdown > 0) {
            document.getElementById('crashStatus').innerHTML = `â³ Ø§Ù„Ø¬ÙˆÙ„Ø© ØªØ¨Ø¯Ø£ Ø®Ù„Ø§Ù„ ${countdown} Ø«ÙˆØ§Ù†ÙŠ`;
        } else {
            clearInterval(countdownInterval);
            startCrashRound(bet);
        }
    }, 1000);
}

function startCrashRound(bet) {
    currentCrashMultiplier = 1.00;
    document.getElementById('crashMultiplier').innerHTML = '1.00x';
    document.getElementById('crashStatus').innerHTML = 'âœˆï¸ Ø§Ù„Ø·Ø§Ø¦Ø±Ø© ØªÙ‚Ù„Ø¹...';
    
    // ØªÙˆÙ„ÙŠØ¯ Ù†Ù‚Ø·Ø© Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±
    const crashPoint = generateCrashPoint();
    
    // Ø¨Ø¯Ø¡ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¶Ø§Ø¹Ù
    crashInterval = setInterval(() => {
        currentCrashMultiplier += 0.08;
        document.getElementById('crashMultiplier').innerHTML = `${currentCrashMultiplier.toFixed(2)}x`;
        
        // Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±
        if (currentCrashMultiplier >= crashPoint) {
            clearInterval(crashInterval);
            isCrashPlaying = false;
            
            document.getElementById('crashMultiplier').innerHTML = `ğŸ’¥ ${crashPoint.toFixed(2)}x`;
            document.getElementById('crashStatus').innerHTML = 'ğŸ’¥ Ø§Ù†ÙØ¬Ø±Øª Ø§Ù„Ø·Ø§Ø¦Ø±Ø©';
            
            // Ø®Ø³Ø§Ø±Ø© Ø§Ù„Ø±Ù‡Ø§Ù†
            showAlert(`Ø§Ù†ÙØ¬Ø±Øª ÙÙŠ ${crashPoint.toFixed(2)}x! Ø®Ø³Ø±Øª ${bet}`, 'error');
            
            // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ø¬Ù„
            addCrashHistory(crashPoint.toFixed(2), 'loss');
            
            // Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
            setTimeout(() => {
                document.getElementById('crashStatus').innerHTML = 'â³ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©...';
            }, 3000);
        }
    }, 70);
}

function generateCrashPoint() {
    const rand = Math.random();
    if (rand < 0.4) return 1.2 + Math.random() * 0.8;
    if (rand < 0.7) return 2.0 + Math.random() * 1.5;
    if (rand < 0.9) return 3.5 + Math.random() * 2.5;
    return 5.0 + Math.random() * 10;
}

function addCrashHistory(value, type) {
    const historyList = document.getElementById('crashHistory');
    const item = document.createElement('div');
    item.className = `history-item ${type}`;
    item.innerHTML = value + 'x';
    historyList.insertBefore(item, historyList.firstChild);
    if (historyList.children.length > 5) {
        historyList.removeChild(historyList.lastChild);
    }
}

// ===== Ù„Ø¹Ø¨Ø© Roulette =====
let selectedRouletteNumber = null;

function betRoulette(number) {
    selectedRouletteNumber = number;
    showAlert(`Ø§Ø®ØªØ±Øª Ø§Ù„Ø±Ù‚Ù… ${number}`, 'success');
}

function spinRoulette() {
    const bet = parseInt(document.getElementById('rouletteBet').value);
    
    if (!selectedRouletteNumber) {
        showAlert('Ø§Ø®ØªØ± Ø±Ù‚Ù… Ø£ÙˆÙ„Ø§Ù‹!', 'warning');
        return;
    }
    
    if (bet > userBalance) {
        showAlert('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ!', 'error');
        return;
    }
    
    updateBalance(-bet);
    
    // ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø©
    const result = Math.floor(Math.random() * 37);
    
    setTimeout(() => {
        if (result === selectedRouletteNumber) {
            const winAmount = bet * 36;
            updateBalance(winAmount);
            showAlert(`ÙØ²Øª! Ø§Ù„Ø±Ù‚Ù… ${result} - Ø±Ø¨Ø­ ${winAmount}`, 'success');
        } else {
            showAlert(`Ø®Ø³Ø±Øª! Ø§Ù„Ø±Ù‚Ù… ${result}`, 'error');
        }
        selectedRouletteNumber = null;
    }, 2000);
}

// ===== Ù„Ø¹Ø¨Ø© Slots =====
const slotSymbols = ['ğŸ’', 'ğŸ‹', 'ğŸŠ', '7ï¸âƒ£', 'ğŸ’', 'ğŸ’°'];

function spinSlots() {
    const bet = parseInt(document.getElementById('slotsBet').value);
    
    if (bet > userBalance) {
        showAlert('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ!', 'error');
        return;
    }
    
    updateBalance(-bet);
    
    // ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¯ÙˆØ±Ø©
    let spins = 0;
    const spinInterval = setInterval(() => {
        document.getElementById('slotReel1').textContent = slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
        document.getElementById('slotReel2').textContent = slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
        document.getElementById('slotReel3').textContent = slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
        spins++;
        
        if (spins > 20) {
            clearInterval(spinInterval);
            
            const reel1 = document.getElementById('slotReel1').textContent;
            const reel2 = document.getElementById('slotReel2').textContent;
            const reel3 = document.getElementById('slotReel3').textContent;
            
            if (reel1 === reel2 && reel2 === reel3) {
                const winAmount = bet * 50;
                updateBalance(winAmount);
                showAlert(`Ø¬Ø§Ø¦Ø²Ø© ÙƒØ¨Ø±Ù‰! Ø±Ø¨Ø­ ${winAmount}`, 'success');
            } else if (reel1 === reel2 || reel2 === reel3 || reel1 === reel3) {
                const winAmount = bet * 2;
                updateBalance(winAmount);
                showAlert(`ÙØ²Øª! Ø±Ø¨Ø­ ${winAmount}`, 'success');
            } else {
                showAlert('Ø®Ø³Ø±Øª!', 'error');
            }
        }
    }, 100);
}

// ===== Ù„Ø¹Ø¨Ø© Dice =====
function rollDice() {
    const bet = parseInt(document.getElementById('diceBet').value);
    
    if (bet > userBalance) {
        showAlert('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ!', 'error');
        return;
    }
    
    updateBalance(-bet);
    
    // Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯
    const dice1 = Math.floor(Math.random() * 6) + 1;
    const dice2 = Math.floor(Math.random() * 6) + 1;
    const total = dice1 + dice2;
    
    // ØªØ­Ø¯ÙŠØ« Ø´ÙƒÙ„ Ø§Ù„Ù†Ø±Ø¯
    updateDiceDisplay('dice1', dice1);
    updateDiceDisplay('dice2', dice2);
    
    // Ø§Ù„ÙÙˆØ² Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ 7 Ø£Ùˆ 11
    if (total === 7 || total === 11) {
        const winAmount = bet * 2;
        updateBalance(winAmount);
        showAlert(`ÙØ²Øª! Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ ${total} - Ø±Ø¨Ø­ ${winAmount}`, 'success');
    } else {
        showAlert(`Ø®Ø³Ø±Øª! Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ ${total}`, 'error');
    }
}

function updateDiceDisplay(diceId, value) {
    const dice = document.getElementById(diceId);
    dice.innerHTML = '';
    dice.style.display = 'flex';
    dice.style.flexWrap = 'wrap';
    dice.style.gap = '5px';
    dice.style.padding = '15px';
    
    for (let i = 0; i < value; i++) {
        const dot = document.createElement('div');
        dot.className = 'dice-dot';
        dice.appendChild(dot);
    }
}

// ===== Ù„Ø¹Ø¨Ø© Blackjack =====
let playerScore = 0;
let dealerScore = 0;

function hitBlackjack() {
    const bet = parseInt(document.getElementById('blackjackBet').value);
    
    if (bet > userBalance) {
        showAlert('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ!', 'error');
        return;
    }
    
    updateBalance(-bet);
    
    const card = Math.floor(Math.random() * 10) + 1;
    playerScore += card;
    
    if (playerScore > 21) {
        showAlert(`Ø®Ø³Ø±Øª! Ù…Ø¬Ù…ÙˆØ¹Ùƒ ${playerScore}`, 'error');
        resetBlackjack();
    } else if (playerScore === 21) {
        const winAmount = bet * 2.5;
        updateBalance(winAmount);
        showAlert(`Blackjack! Ø±Ø¨Ø­ ${winAmount}`, 'success');
        resetBlackjack();
    }
}

function standBlackjack() {
    dealerScore = Math.floor(Math.random() * 17) + 4;
    
    if (dealerScore > 21 || playerScore > dealerScore) {
        const winAmount = parseInt(document.getElementById('blackjackBet').value) * 2;
        updateBalance(winAmount);
        showAlert(`ÙØ²Øª! Ø§Ù„Ù…ÙˆØ²Ø¹ ${dealerScore} - Ø£Ù†Øª ${playerScore}`, 'success');
    } else {
        showAlert(`Ø®Ø³Ø±Øª! Ø§Ù„Ù…ÙˆØ²Ø¹ ${dealerScore} - Ø£Ù†Øª ${playerScore}`, 'error');
    }
    resetBlackjack();
}

function resetBlackjack() {
    playerScore = 0;
    dealerScore = 0;
}

// ===== Ù„Ø¹Ø¨Ø© Mines =====
let minesActive = false;
let minesRevealed = [];

function initMines() {
    const grid = document.getElementById('minesGrid');
    grid.innerHTML = '';
    minesRevealed = [];
    
    for (let i = 0; i < 25; i++) {
        const cell = document.createElement('div');
        cell.className = 'mine-cell';
        cell.dataset.index = i;
        cell.onclick = () => revealMine(i);
        grid.appendChild(cell);
    }
}

function startMines() {
    const bet = parseInt(document.getElementById('minesBet').value);
    
    if (bet > userBalance) {
        showAlert('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ!', 'error');
        return;
    }
    
    updateBalance(-bet);
    minesActive = true;
    initMines();
}

function revealMine(index) {
    if (!minesActive) {
        showAlert('Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹!', 'warning');
        return;
    }
    
    const cells = document.querySelectorAll('.mine-cell');
    const isMine = Math.random() < 0.2; // 20% ÙØ±ØµØ© Ù„ØºÙ…
    
    if (isMine) {
        cells[index].className = 'mine-cell mine';
        cells[index].innerHTML = 'ğŸ’£';
        minesActive = false;
        showAlert('Ø§Ù†ÙØ¬Ø± Ø§Ù„Ù„ØºÙ…! Ø®Ø³Ø±Øª', 'error');
    } else {
        cells[index].className = 'mine-cell gem';
        cells[index].innerHTML = 'ğŸ’';
        
        const winAmount = parseInt(document.getElementById('minesBet').value) * 1.5;
        updateBalance(winAmount);
        showAlert(`ÙØ²Øª! Ø±Ø¨Ø­ ${winAmount}`, 'success');
    }
}

// ===== Ù„Ø¹Ø¨Ø© Plinko =====
function dropPlinko() {
    const bet = parseInt(document.getElementById('plinkoBet').value);
    
    if (bet > userBalance) {
        showAlert('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ!', 'error');
        return;
    }
    
    updateBalance(-bet);
    
    const board = document.getElementById('plinkoBoard');
    const ball = document.createElement('div');
    ball.className = 'plinko-ball';
    board.appendChild(ball);
    
    setTimeout(() => {
        ball.remove();
        
        const multiplier = [0.5, 1, 2, 5, 2, 1, 0.5][Math.floor(Math.random() * 7)];
        const winAmount = bet * multiplier;
        
        if (multiplier > 1) {
            updateBalance(winAmount);
            showAlert(`ÙØ²Øª! ${multiplier}x = ${winAmount}`, 'success');
        } else {
            showAlert(`Ø®Ø³Ø±Øª! ${multiplier}x`, 'error');
        }
    }, 2000);
}

// ===== Ù„Ø¹Ø¨Ø© Keno =====
function initKeno() {
    const grid = document.getElementById('kenoGrid');
    grid.innerHTML = '';
    selectedNumbers = [];
    
    for (let i = 1; i <= 40; i++) {
        const number = document.createElement('div');
        number.className = 'keno-number';
        number.textContent = i;
        number.onclick = () => selectKenoNumber(i, number);
        grid.appendChild(number);
    }
}

function selectKenoNumber(num, element) {
    if (selectedNumbers.includes(num)) {
        selectedNumbers = selectedNumbers.filter(n => n !== num);
        element.classList.remove('selected');
    } else {
        if (selectedNumbers.length < 5) {
            selectedNumbers.push(num);
            element.classList.add('selected');
        } else {
            showAlert('ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± 5 Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·', 'warning');
        }
    }
}

function drawKeno() {
    const bet = parseInt(document.getElementById('kenoBet').value);
    
    if (selectedNumbers.length === 0) {
        showAlert('Ø§Ø®ØªØ± Ø£Ø±Ù‚Ø§Ù… Ø£ÙˆÙ„Ø§Ù‹!', 'warning');
        return;
    }
    
    if (bet > userBalance) {
        showAlert('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ!', 'error');
        return;
    }
    
    updateBalance(-bet);
    
    // Ø³Ø­Ø¨ 10 Ø£Ø±Ù‚Ø§Ù…
    const drawn = [];
    while (drawn.length < 10) {
        const num = Math.floor(Math.random() * 40) + 1;
        if (!drawn.includes(num)) drawn.push(num);
    }
    
    // Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ·Ø§Ø¨Ù‚Ø§Øª
    const matches = selectedNumbers.filter(n => drawn.includes(n)).length;
    
    if (matches >= 3) {
        const winAmount = bet * (matches * 2);
        updateBalance(winAmount);
        showAlert(`ÙØ²Øª! ${matches} ØªØ·Ø§Ø¨Ù‚Ø§Øª - Ø±Ø¨Ø­ ${winAmount}`, 'success');
    } else {
        showAlert(`Ø®Ø³Ø±Øª! ${matches} ØªØ·Ø§Ø¨Ù‚Ø§Øª ÙÙ‚Ø·`, 'error');
    }
}

// ===== Firebase Auth =====
auth.onAuthStateChanged((user) => {
    if (!user) {
        // Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙ‡Ù…ÙŠ Ù„Ù„ØªØ¬Ø±Ø¨Ø©
        auth.signInAnonymously();
    }
});

// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
window.onload = function() {
    // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
    showScreen('mainScreen');
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØµÙˆØ±
    const handleImageError = function() {
        console.log('Image not found, using fallback');
    };
    
    // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ù„Ù„ØµÙˆØ±
    document.querySelectorAll('img').forEach(img => {
        img.onerror = handleImageError;
    });
};
</script>

</body>
</html>
